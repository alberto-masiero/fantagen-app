/* =========================
   PITCH BASE
========================= */

.pitch-wrapper{
  width:100%;
  display:flex;
  justify-content:center;
}

.pitch{
  position:relative;
  width:560px;
  max-width:100%;
  aspect-ratio:2/3;
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,.18);

  background:
    radial-gradient(120% 80% at 50% -10%, rgba(255,255,255,.18), transparent 55%),
    radial-gradient(120% 80% at 50% 110%, rgba(0,0,0,.20), transparent 55%),
    repeating-linear-gradient(90deg,
      rgba(255,255,255,0) 0%,
      rgba(255,255,255,0) 6%,
      rgba(255,255,255,.06) 6%,
      rgba(255,255,255,.06) 12%
    ),
    linear-gradient(180deg,#0f854a,#0b5d36);

  border:2px solid rgba(255,255,255,.18);
}

/* grana leggera */
.pitch::after{
  content:"";
  position:absolute;
  inset:0;
  opacity:.08;
  pointer-events:none;
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,.06) 0 1px, transparent 1px 3px),
    repeating-linear-gradient(90deg, rgba(0,0,0,.06) 0 1px, transparent 1px 4px);
  mix-blend-mode:soft-light;
}

/* =========================
   LINEE CAMPO
========================= */

.halfway,
.center-circle,
.penalty-area,
.goal-area,
.penalty-arc,
.corner{
  position:absolute;
  z-index:2;
  pointer-events:none;
  border:2px solid rgba(255,255,255,.45);
  filter: drop-shadow(0 0 6px rgba(255,255,255,.15));
}

.halfway{
  left:18px; right:18px;
  top:50%;
  height:2px;
  background:rgba(255,255,255,.4);
  transform:translateY(-1px);
  border:none;
}

.center-circle{
  top:50%;
  left:50%;
  width:26%;
  aspect-ratio:1/1;
  transform:translate(-50%,-50%);
  border-radius:50%;
}

.penalty-area{
  left:18px; right:18px;
  height:23%;
  border-left:none;
  border-right:none;
}
.penalty-area.top{ top:18px; border-top:none; }
.penalty-area.bottom{ bottom:18px; border-bottom:none; }

/* =========================
   PORTE
========================= */

.goal{
  position:absolute;
  left:34%;
  right:34%;
  height:20px;
  border-radius:10px;
  border:2px solid rgba(255,255,255,.8);
  background:rgba(255,255,255,.1);
  box-shadow:0 10px 18px rgba(0,0,0,.18);
  z-index:2;
}

.goal.top{ top:10px; }
.goal.bottom{ bottom:10px; }

.goal::after{
  content:"";
  position:absolute;
  inset:2px;
  border-radius:inherit;
  opacity:.35;
  background:
    repeating-linear-gradient(45deg, rgba(255,255,255,.5) 0 1px, transparent 1px 6px),
    repeating-linear-gradient(-45deg, rgba(255,255,255,.5) 0 1px, transparent 1px 6px);
}

/* =========================
   PLAYERS
========================= */

.spot{
  position:absolute;
  transform:translate(-50%,-50%);
  width:28%;
  max-width:155px;
  z-index:10;
  filter:drop-shadow(0 10px 16px rgba(0,0,0,.20));
}

/* =========================
   BADGE VERTICAL
========================= */

.badge-card{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:4px;
  padding:6px 6px 8px;
  border-radius:14px;
  background:rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.15);
  backdrop-filter:blur(6px);
}

/* LOGO */
.logo-mini{
  width:20px;
  height:20px;
  display:grid;
  place-items:center;
}

.logo-mini img{
  width:18px;
  height:18px;
  object-fit:contain;
}

/* MV + TREND */
.row-mv{
  display:flex;
  gap:6px;
  align-items:center;
}

.mv-pill{
  font-size:10px;
  font-weight:900;
  padding:2px 6px;
  border-radius:999px;
  background:rgba(255,255,255,.12);
  color:#fff;
}

.trend-inline{
  font-size:11px;
  font-weight:900;
}

.trend-inline.up{ color:#4eff8a; }
.trend-inline.down{ color:#ff5b5b; }
.trend-inline.eq{ color:#ccc; }

/* NOME */
.name-inline{
  font-size:11px;
  font-weight:900;
  color:#fff;
  text-align:center;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* TITOLARIT√Ä */
.tit-bar{
  width:100%;
  height:6px;
  background:rgba(255,255,255,.12);
  border-radius:999px;
  overflow:hidden;
}

.tit-fill{
  height:100%;
  transition:width .3s ease;
}

.tit-fill.low{ background:#ff5b5b; }
.tit-fill.mid{ background:#ffb84e; }
.tit-fill.high{ background:#4eff8a; }

/* FLAG */
.flag{
  width:100%;
  font-size:9px;
  font-weight:900;
  text-align:center;
  padding:3px 0;
  border-radius:999px;
}

.flag.inj{
  background:rgba(255,80,80,.18);
  color:#ff7a7a;
}

.flag.sus{
  background:rgba(255,180,0,.18);
  color:#ffc85a;
}

/* =========================
   IONIC FIX
========================= */

ion-content{
  --padding-start:0;
  --padding-end:0;
  --padding-top:0;
  --padding-bottom:0;
}
/* =========================
   TITOLARIT√Ä PROGRESS BAR
========================= */

.row-progress{
  width:100%;
  margin-top:4px;
}

.tit-bar{
  width:100%;
  height:6px;
  background:rgba(255,255,255,.12);
  border-radius:999px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.15);
}

.tit-fill{
  height:100%;
  width:0%;
  border-radius:999px;
  transition:width .35s ease;
}

/* livelli colore */
.tit-fill.low{
  background:linear-gradient(90deg,#ff5b5b,#ffb84e);
}

.tit-fill.mid{
  background:linear-gradient(90deg,#ffb84e,#4eff8a);
}

.tit-fill.high{
  background:linear-gradient(90deg,#4eff8a,#4ecbff);
}


/* =========================
   FIFA / EA SPORTS BROADCAST
   (vertical badge)
========================= */

:root{
  --fx-white: rgba(255,255,255,.92);
  --fx-border: rgba(255,255,255,.14);
  --fx-glass: rgba(8,10,14,.42);
  --fx-glass2: rgba(12,14,18,.30);
  --fx-shadow: rgba(0,0,0,.35);

  /* accent default (puoi settarlo per team) */
  --accentA: 120, 255, 170; /* greenish */
  --accentB: 78, 203, 255;  /* cyan */
}

/* CARD */
.badge-card.vertical{
  position:relative;
  overflow:hidden;
  background:
    radial-gradient(120% 100% at 50% -10%, rgba(var(--accentB),.20), transparent 55%),
    radial-gradient(120% 100% at 50% 120%, rgba(0,0,0,.50), transparent 60%),
    linear-gradient(180deg, var(--fx-glass), var(--fx-glass2));
  border:1px solid rgba(255,255,255,.12);
  box-shadow:
    0 14px 24px rgba(0,0,0,.30),
    inset 0 1px 0 rgba(255,255,255,.08);
  backdrop-filter: blur(10px) saturate(1.2);
}

/* bordo ‚ÄúTV‚Äù con glow leggero */
.badge-card.vertical::before{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius:inherit;
  padding:1px;
  background:
    linear-gradient(135deg,
      rgba(var(--accentA),.55),
      rgba(255,255,255,.10),
      rgba(var(--accentB),.55)
    );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity:.45;
  pointer-events:none;
}

/* highlight diagonale tipo broadcast */
.badge-card.vertical::after{
  content:"";
  position:absolute;
  inset:-40% -60%;
  background: linear-gradient(115deg,
    transparent 40%,
    rgba(255,255,255,.14) 52%,
    transparent 64%
  );
  transform: rotate(6deg);
  opacity:.45;
  pointer-events:none;
}

/* LOGO BOX pi√π ‚Äústampato‚Äù */
.logo-mini{
  width:22px;
  height:22px;
  border-radius:7px;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.25);
}
.logo-mini img{
  width:18px;
  height:18px;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.45));
}

/* MV pill style broadcast */
.mv-pill{
  background:
    linear-gradient(180deg,
      rgba(255,255,255,.14),
      rgba(255,255,255,.06)
    );
  border:1px solid rgba(255,255,255,.16);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
  letter-spacing:.25px;
}

/* TREND chip ‚Äúscoreboard‚Äù */
.trend-inline{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:18px;
  height:18px;
  padding:0 6px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  text-shadow: 0 2px 8px rgba(0,0,0,.55);
}
.trend-inline.up{
  color: #4eff8a !important;
  background: rgba(78,255,138,.18) !important;
  border-color: rgba(78,255,138,.30) !important;
}

.trend-inline.down{
  color: rgba(255,120,120,.98);
  background: rgba(255,120,120,.14);
  border-color: rgba(255,120,120,.22);
}
.trend-inline.eq{
  color: rgba(255,255,255,.82);
}

/* NOME: pi√π ‚ÄúTV lower-third‚Äù */
.name-inline{
  font-size:11.5px;
  font-weight:950;
  letter-spacing:.25px;
  text-transform: uppercase;
  text-shadow:
    0 2px 10px rgba(0,0,0,.65),
    0 0 16px rgba(0,0,0,.25);
}

/* PROGRESS BAR: broadcast + shine */
.row-progress{ width:100%; margin-top:4px; }

.tit-bar{
  position:relative;
  width:100%;
  height:7px;
  border-radius:999px;
  background: rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.12);
  overflow:hidden;
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,.22),
    inset 0 2px 10px rgba(0,0,0,.22);
}

.tit-fill{
  position:relative;
  height:100%;
  width:0%;
  border-radius:999px;
  transition: width .35s ease;
  background: linear-gradient(90deg,
    rgba(var(--accentA),.95),
    rgba(var(--accentB),.95)
  );
  box-shadow: 0 0 14px rgba(var(--accentB),.18);
}

/* shine animata sopra la fill */
.tit-fill::after{
  content:"";
  position:absolute;
  top:-40%;
  left:-30%;
  width:40%;
  height:180%;
  transform: rotate(18deg);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.40), transparent);
  opacity:.55;
  animation: titShine 1.8s ease-in-out infinite;
}
@keyframes titShine{
  0%   { transform: translateX(-40%) rotate(18deg); opacity:.15; }
  40%  { opacity:.55; }
  100% { transform: translateX(360%) rotate(18deg); opacity:.10; }
}

/* livelli colore (se vuoi mantenere low/mid/high) */
.tit-fill.low{
  background: linear-gradient(90deg, rgba(255,120,120,.95), rgba(255,200,120,.95));
}
.tit-fill.mid{
  background: linear-gradient(90deg, rgba(255,200,120,.95), rgba(var(--accentA),.95));
}
.tit-fill.high{
  background: linear-gradient(90deg, rgba(var(--accentA),.95), rgba(var(--accentB),.95));
}

/* FLAG: stile ‚Äúwarning banner‚Äù */
.flag{
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  text-transform: uppercase;
  letter-spacing:.35px;
}
.flag.inj{
  background: rgba(255,80,80,.16);
  border-color: rgba(255,80,80,.22);
  color: rgba(255,170,170,.98);
}
.flag.sus{
  background: rgba(255,180,0,.16);
  border-color: rgba(255,180,0,.22);
  color: rgba(255,220,150,.98);
}

/* micro ‚Äúpop‚Äù quando droppi (riusa le tue classi slot) */
.slot.drop-ok .badge-card.vertical{
  transform: translateZ(0) scale(1.02);
  box-shadow:
    0 18px 28px rgba(0,0,0,.34),
    0 0 0 1px rgba(var(--accentA),.18);
}
.slot.drop-bad .badge-card.vertical{
  filter: grayscale(.25) brightness(.95);
}

/* PROGRESS: hard reset (non pu√≤ sparire) */
.row-progress{ width:100%; margin-top:4px; }

.tit-bar{
  position:relative;
  width:100%;
  height:7px;
  border-radius:999px;
  overflow:hidden;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.14);
  box-sizing:border-box;
}

.tit-fill{
  position:absolute;      /* üî• evita problemi di layout */
  left:0; top:0; bottom:0;
  width:0%;
  display:block;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(120,255,170,.95), rgba(78,203,255,.95));
  min-width:2px;          /* üî• anche 1% si vede */
  will-change: width;
  transition: width .35s ease;
}

/* livelli */
.tit-fill.low{
  background: linear-gradient(90deg, rgba(255,120,120,.95), rgba(255,200,120,.95));
}
.tit-fill.mid{
  background: linear-gradient(90deg, rgba(255,200,120,.95), rgba(120,255,170,.95));
}
.tit-fill.high{
  background: linear-gradient(90deg, rgba(120,255,170,.95), rgba(78,203,255,.95));
}

/* =========================================
   PITCH SUPER REALISTIC (per il tuo HTML)
   wrapper: .pitch-wrapper
   campo:   .pitch.pitch-3d
   overlay: .markings
   ========================================= */

/* wrapper non deve aggiungere offset */
.pitch-wrapper{
  width:100%;
  display:flex;
  justify-content:center;
}

/* campo */
.pitch.pitch-3d{
  position:relative;
  width:560px;
  max-width:100%;
  aspect-ratio:2/3;
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 14px 34px rgba(0,0,0,.22);
  border:2px solid rgba(255,255,255,.16);

  /* ERBA + LUCI + USURA + STRISCE */
  background:
    /* luci stadio */
    radial-gradient(120% 80% at 50% -12%, rgba(255,255,255,.22), transparent 58%),
    radial-gradient(120% 90% at 50% 115%, rgba(0,0,0,.34), transparent 58%),

    /* usura centro/aree */
    radial-gradient(38% 22% at 50% 50%, rgba(255,255,255,.08), transparent 62%),
    radial-gradient(46% 26% at 50% 17%, rgba(255,255,255,.06), transparent 64%),
    radial-gradient(46% 26% at 50% 83%, rgba(255,255,255,.06), transparent 64%),

    /* stripes mowing pi√π morbide */
    repeating-linear-gradient(90deg,
      rgba(255,255,255,0) 0%,
      rgba(255,255,255,0) 5.6%,
      rgba(255,255,255,.055) 5.6%,
      rgba(255,255,255,.055) 11.2%
    ),

    /* base green */
    linear-gradient(180deg, #118f50, #0a5a34);
}

/* grana + micro texture (sopra lo sfondo, sotto overlay/linee) */
.pitch.pitch-3d::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:0;
  opacity:.12;
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,.06) 0 1px, transparent 1px 4px),
    repeating-linear-gradient(90deg, rgba(0,0,0,.06) 0 1px, transparent 1px 5px);
  mix-blend-mode:soft-light;
}

/* =========================
   OVERLAY: bordo + vignetta
   (il tuo .markings √® gi√† in HTML)
========================= */
.markings{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:1; /* sopra erba, sotto linee */
}

.markings::before{
  content:"";
  position:absolute;
  inset:18px;
  border:2px solid rgba(255,255,255,.44);
  border-radius:14px;
  /* leggero ‚Äúbleed‚Äù per gesso */
  box-shadow:
    0 0 0 1px rgba(255,255,255,.06),
    0 0 10px rgba(255,255,255,.06);
}

.markings::after{
  content:"";
  position:absolute;
  inset:0;
  opacity:.30;
  background:
    radial-gradient(circle at 50% 18%, rgba(255,255,255,.12), rgba(0,0,0,.20)),
    radial-gradient(circle at 50% 85%, rgba(0,0,0,.30), transparent 55%);
}

/* =========================
   LINEE CAMPO (gesso realistico)
========================= */

.halfway,
.center-circle,
.center-spot,
.penalty-area,
.goal-area,
.penalty-spot,
.penalty-arc,
.corner,
.goal{
  position:absolute;
  pointer-events:none;
}

/* linee sopra overlay */
.halfway,
.center-circle,
.center-spot,
.penalty-area,
.goal-area,
.penalty-spot,
.penalty-arc,
.corner,
.goal{
  z-index:2;
}

/* gesso: glow/bleed */
.halfway,
.center-circle,
.penalty-area,
.goal-area,
.penalty-arc,
.corner{
  filter:
    drop-shadow(0 0 1px rgba(255,255,255,.28))
    drop-shadow(0 0 10px rgba(255,255,255,.10));
}

/* met√† campo */
.halfway{
  left:18px; right:18px;
  top:50%;
  height:2px;
  transform:translateY(-1px);
  background:rgba(255,255,255,.44);
}

/* cerchio centro */
.center-circle{
  top:50%;
  left:50%;
  width:26%;
  aspect-ratio:1/1;
  transform:translate(-50%,-50%);
  border:2px solid rgba(255,255,255,.44);
  border-radius:50%;
}

/* spot centro */
.center-spot{
  top:50%;
  left:50%;
  width:6px;
  height:6px;
  transform:translate(-50%,-50%);
  background:rgba(255,255,255,.55);
  border-radius:50%;
}

/* area rigore */
.penalty-area{
  left:18px; right:18px;
  height:23%;
  border:2px solid rgba(255,255,255,.44);
  border-left:none;
  border-right:none;
}
.penalty-area.top{ top:18px; border-top:none; }
.penalty-area.bottom{ bottom:18px; border-bottom:none; }

/* area piccola */
.goal-area{
  left:22%; right:22%;
  height:11%;
  border:2px solid rgba(255,255,255,.44);
  border-left:none;
  border-right:none;
}
.goal-area.top{ top:18px; border-top:none; }
.goal-area.bottom{ bottom:18px; border-bottom:none; }

/* dischetto rigore */
.penalty-spot{
  left:50%;
  width:6px;
  height:6px;
  transform:translateX(-50%);
  background:rgba(255,255,255,.55);
  border-radius:50%;
}
.penalty-spot.top{ top:calc(18px + 17%); }
.penalty-spot.bottom{ bottom:calc(18px + 17%); }

/* arco rigore */
.penalty-arc{
  left:50%;
  width:22%;
  aspect-ratio:1/1;
  transform:translateX(-50%);
  border:2px solid rgba(255,255,255,.44);
  border-radius:50%;
}
.penalty-arc.top{
  top:calc(18px + 23% - 11%);
  clip-path:inset(50% 0 0 0);
}
.penalty-arc.bottom{
  bottom:calc(18px + 23% - 11%);
  clip-path:inset(0 0 50% 0);
}

/* angoli */
.corner{
  width:38px;
  height:38px;
  border:2px solid rgba(255,255,255,.44);
  border-radius:50%;
}
.corner.tl{ top:18px; left:18px; clip-path:inset(50% 0 0 50%); }
.corner.tr{ top:18px; right:18px; clip-path:inset(50% 50% 0 0); }
.corner.bl{ bottom:18px; left:18px; clip-path:inset(0 0 50% 50%); }
.corner.br{ bottom:18px; right:18px; clip-path:inset(0 50% 50% 0); }

/* =========================
   PORTE: rete + profondit√†
========================= */

.goal{
  left:34%;
  right:34%;
  height:20px;
  border:2px solid rgba(255,255,255,.78);
  background:rgba(255,255,255,.10);
  box-shadow:
    inset 0 0 0 2px rgba(255,255,255,.06),
    0 10px 18px rgba(0,0,0,.18);
}

.goal.top{
  top:10px;
  border-radius:10px 10px 0 0;
}
.goal.bottom{
  bottom:10px;
  border-radius:0 0 10px 10px;
}

/* rete */
.goal::after{
  content:"";
  position:absolute;
  inset:2px;
  border-radius:inherit;
  opacity:.35;
  background:
    repeating-linear-gradient(45deg, rgba(255,255,255,.52) 0 1px, transparent 1px 6px),
    repeating-linear-gradient(-45deg, rgba(255,255,255,.52) 0 1px, transparent 1px 6px);
  mix-blend-mode:overlay;
}

/* profondit√† */
.goal::before{
  content:"";
  position:absolute;
  inset:-4px;
  border-radius:inherit;
  opacity:.55;
  box-shadow: inset 0 -7px 14px rgba(0,0,0,.22);
  pointer-events:none;
}

/* =========================
   PLAYERS sopra tutto
========================= */
.spot{
  position:absolute;
  transform:translate(-50%,-50%);
  z-index:10;
}

.name-inline{
  font-size:10px;
  line-height:1.02;
  letter-spacing:.12px;
}
@media (max-width:360px){
  .name-inline{ font-size:9.5px; }
}
@media (min-width:768px){
  .name-inline{ font-size:10.5px; }
}


/* =========================================
   EXTRA REALISM: diagonal turf + micro-bump
   + subtle camera perspective
   (SAFE: non muove players/linee)
   ========================================= */

/* layer extra sotto overlay/linee/players */
.pitch.pitch-3d::before{
  content:"";
  position:absolute;
  inset:-6%;                  /* un po‚Äô pi√π grande per non tagliare con rotazioni */
  z-index:0;                  /* sotto markings(z=1) e linee(z=2) */
  pointer-events:none;

  /* TEXTURE: fibre diagonali + micro variazioni */
  background:
    /* fibre prato diagonali (molto sottili) */
    repeating-linear-gradient(135deg,
      rgba(255,255,255,.035) 0 1px,
      rgba(255,255,255,0) 1px 6px
    ),
    /* seconda trama incrociata (pi√π soft) */
    repeating-linear-gradient(45deg,
      rgba(0,0,0,.030) 0 1px,
      rgba(0,0,0,0) 1px 7px
    ),
    /* ‚Äúmowing‚Äù addizionale (pi√π profondo) */
    repeating-linear-gradient(90deg,
      rgba(255,255,255,0) 0%,
      rgba(255,255,255,0) 6%,
      rgba(255,255,255,.050) 6%,
      rgba(255,255,255,.050) 12%
    );

  mix-blend-mode: soft-light;
  opacity:.75;

  /* PROSPETTIVA CAMERA (SOFT) */
  transform-origin: 50% 50%;
  transform:
    perspective(900px)
    rotateX(2.2deg)           /* leggerissima ‚Äúcamera tilt‚Äù */
    rotateZ(-0.6deg)          /* microscopica rotazione per effetto TV */
    scale(1.02);
  filter: blur(.15px);        /* anti-alias micro */
}

/* assicurati che la tua grana non finisca sopra tutto */
.pitch.pitch-3d::after{
  z-index:0;
  opacity:.10;                /* un filo meno forte: ora c‚Äô√® anche ::before */
}

/* opzionale: un pelo pi√π ‚Äústadium lights‚Äù */
.pitch.pitch-3d{
  box-shadow: 0 18px 44px rgba(0,0,0,.26);
}

/* linee ancora pi√π ‚Äúgesso‚Äù */
.halfway,
.center-circle,
.penalty-area,
.goal-area,
.penalty-arc,
.corner{
  filter:
    drop-shadow(0 0 1px rgba(255,255,255,.30))
    drop-shadow(0 0 12px rgba(255,255,255,.10));
}

/* overlay non deve coprire troppo */
.markings::after{
  opacity:.28;
}
